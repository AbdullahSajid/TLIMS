var handleMessageToInput=function(){$("#email-to").tagit({availableTags:"c++ java php javascript ruby python c".split(" ")})},handleMessageContent=function(){$("#summernote").summernote({height:170,minHeight:null,maxHeight:null})},handleTooltips=function(){$('[data-toggle="tooltip"]').tooltip()},editLink=function(){$("#editLink").click(function(a){a.preventDefault();$("#summernote").summernote({focus:!0})})},resetLink=function(){$("#resetLink").click(function(a){a.preventDefault();$("#summernote").summernote("reset")})},
saveDraft=function(){$("#saveDraft").click(function(a){a.preventDefault();a=$("#receivers").val();if(""==$("#subject").val())return alert("Subject Field can not be empty"),!1;if("undefined"==typeof a||null==a||null==a.length||0==a.length)return alert("Recepients Field can not be empty"),!1;if($("#summernote").summernote("isEmpty"))return $('[data-click="swal-warning"]').click(),!1;b&&b.abort();b=$("#message_form").serialize();var b=$.ajax({type:"POST",url:"ajax/save_draft_message.php",data:b,cache:!1,
success:function(a){$(".multiple-select2").select2().val(null).trigger("change");$("#summernote").summernote("reset");$("#subject").val("");"success"==a?$('[data-click="swal-success-draft"]').click():alert("Error Occured")},error:function(a,b,c){console.log(b+" "+c)}});return!1})},MessageCompose=function(){return{init:function(){handleMessageToInput();handleMessageContent();handleTooltips();editLink();resetLink();saveDraft()}}}();